<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/GoogleMap.vue</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/GoogleMap.vue</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>&lt;template>
  &lt;div>
    &lt;div>
      &lt;h2>Search and add a pin&lt;/h2>
      &lt;label>
        &lt;gmap-autocomplete
          @place_changed="setPlace">
        &lt;/gmap-autocomplete>
        &lt;button @click="addMarker">Add&lt;/button>
      &lt;/label>
      &lt;br/>

    &lt;/div>
    &lt;br>
    &lt;gmap-map
      :center="center"
      :zoom="12"
      style="width:100%;  height: 400px;"
    >
      &lt;gmap-marker
        :key="index"
        v-for="(m, index) in markers"
        :position="m.position"
        @click="center=m.position"
      >&lt;/gmap-marker>
    &lt;/gmap-map>
  &lt;/div>
&lt;/template>

&lt;script>
/**
 * @class GoogleMap
 * @desc Google maps wrapper component for displaying map on pages
 * @vue-data {Position} center - Current center of the map
 * @vue-data {Array.&lt;GoogleMapsMarker>} markers - List of markers that have been added
 * @vue-data {Array.&lt;Position>} places - List of positions of markers
 * @vue-data {Position} currentPlace - List of current position to add a marker
 */
export default {
  name: "GoogleMap",
  data() {
    return {
      // default to Montreal to keep it simple
      // change this to whatever makes sense
      center: { lat: 45.508, lng: -73.587 },
      markers: [],
      places: [],
      currentPlace: null
    };
  },

  mounted() {
    this.geolocate();
  },

  methods: {
    /** 
     * Receives a place object via the autocomplete component and sets currentPlace
     * @param {Position} place - Place to be marked
     */
    setPlace(place) {
      this.currentPlace = place;
    },
    /**
     * Add a marker based on the current place
     */
    addMarker() {
      if (this.currentPlace) {
        const marker = {
          lat: this.currentPlace.geometry.location.lat(),
          lng: this.currentPlace.geometry.location.lng()
        };
        this.markers.push({ position: marker });
        this.places.push(this.currentPlace);
        this.center = marker;
        this.currentPlace = null;
      }
    },
    /**
     * Get current location from browser geolocation
     */
    geolocate: function() {
      navigator.geolocation.getCurrentPosition(position => {
        this.center = {
          lat: position.coords.latitude,
          lng: position.coords.longitude
        };
      });
    }
  }
};
&lt;/script></code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-ChatService.html">ChatService</a></li><li><a href="module-DishesService.html">DishesService</a></li><li><a href="module-FacebookAuth.html">FacebookAuth</a></li></ul><h3>Classes</h3><ul><li><a href="ChatBase.html">ChatBase</a></li><li><a href="CreateDishBase.html">CreateDishBase</a></li><li><a href="DishDetails.html">DishDetails</a></li><li><a href="FacebookLogin.html">FacebookLogin</a></li><li><a href="GoogleMap.html">GoogleMap</a></li><li><a href="HeaderBase.html">HeaderBase</a></li><li><a href="ListingsBase.html">ListingsBase</a></li><li><a href="ListingsDishItem.html">ListingsDishItem</a></li><li><a href="SearchDishBase.html">SearchDishBase</a></li><li><a href="TransactionDishItem.html">TransactionDishItem</a></li><li><a href="TransactionPendingBase.html">TransactionPendingBase</a></li><li><a href="UserProfileBase.html">UserProfileBase</a></li><li><a href="UserProfileChatItem.html">UserProfileChatItem</a></li><li><a href="VuexStore.html">VuexStore</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sun Dec 02 2018 17:39:23 GMT-0800 (Pacific Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
